<!DOCTYPE html>
<html lang="en">
<head prefix="og:http://ogp.me/ns#">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name=”robots” content=”noindex”>
    <title>shaken正式名称ジェネレータ</title>
    <script defer="defer">
        let arr = ["社会", "科学", "研究"];
        window.addEventListener("load", (event) => {
            let p = document.getElementById("result");
            let tw_btn = document.getElementById("tweet_btn");
            let btn = document.getElementById("btn");
            btn.addEventListener("click", (event) => {
                let name_arr = [];
                let mode_elem = document.getElementsByName("mode");
                let checkvalue_str;

                for (let i = 0; i < mode_elem.length; i++){
                    if (mode_elem.item(i).checked){
                        checkvalue_str = mode_elem.item(i).value;
                    }
                }

                let checkvalue = Number(checkvalue_str);
                if (checkvalue === 10) {
                    arr.push("筑波", "大学")
                }

                for (var i=0; i < checkvalue; i++) {
                    let index = Math.floor(Math.random() * arr.length);
                    console.log(index);
                    name_arr.push(arr[index]);
                }

                let tw_url = new URL("http://twitter.com/intent/tweet");
                let shaken_name = name_arr.join("");
                p.innerText = shaken_name;
            });
        });
    </script>
    <style>
        #tweet_btn {
            display: block;
        }
    </style>
</head>
<body>
    <main>
        <h1>shaken正式名称ジェネレータ</h1>
        <p>
            <span>実は筑波大学のshakenって……「筑波大学</span>
            <span id="result"></span>
            <span>会」なんです！</span>
        </p>
        <fieldset>
            <input type="radio" name="mode" value="4" id="default-mode" checked>
            <label for="default-mode">default</label>
            <input type="radio" name="mode" value="10" id="overdose-mode">
            <label for="overdose-mode">overdose mode</label>
        </fieldset>
        <button id="btn">MAKE SHAKEN GREAT AGAIN!</button>
        <!--<a href="http://twitter.com/intent/tweet" id="tweet_btn" target="_blank" rel="noreferrer noopener">Tweet</a>-->
    </main>
    <footer>
        <a href="https://github.com/eniehack/klis-generator">GitHub</a>
    </footer>
</body>
</html>
